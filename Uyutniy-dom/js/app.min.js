(()=>{"use strict";$((function(){const e={isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},userAgent:function(){return/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent)},any:function(){return e.isTouchDevice()||e.userAgent()}};function t(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function o(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}t(),$(window).on("resize",(()=>t())),$(document).on("click",(function(e){let t=$(e.target);if(t.closest(".header__menu-toggler").length&&$(".header").toggleClass("open-menu"),t.is(".faq__item-btn")&&t.toggleClass("active").next().slideToggle(),t.is(".popup__tab-btn")&&(t.addClass("active").siblings().removeClass("active"),$(".popup__tabs-block").eq(t.index()).addClass("active").siblings().removeClass("active")),t.closest(".menu__link").length){let o=t.closest(".menu__link"),n=o.next();if(0===n.length)return;if($("body").hasClass("_pc"))return;e.preventDefault(),o.hasClass("active")?(o.removeClass("active"),n.removeClass("active")):($(".menu__link").removeClass("active"),$(".submenu").removeClass("active"),o.addClass("active"),n.addClass("active"))}})),$(document).on("click touchend",".fancybox-slide",(function(e){$(e.target).hasClass("fancybox-slide")&&$.fancybox.close()})),$('input[type="tel"]').length>0&&$("input[type='tel']").inputmask("+7 (999) 999-9999"),o(),window.addEventListener("resize",(()=>o())),window.addEventListener("wheel",(function(e){e.deltaY>0?$("header").addClass("scroll"):$("header").removeClass("scroll")}));let n=0;$(window).on("scroll",(function(){let e=$(this).scrollTop();e<n&&$("header").removeClass("scroll"),n=e})),$(window).on("scroll",(function(){$(this).scrollTop()/($(document).height()-$(this).height())*100>66?$("body").addClass("scrolled-half"):$("body").removeClass("scrolled-half")})),gsap.registerPlugin(ScrollTrigger);const i=document.querySelector(".promo__banner"),s=document.querySelector(".promo");i&&s&&(gsap.set(i,{width:.3333*window.innerWidth,height:.1*window.innerHeight}),gsap.to(i,{width:()=>window.innerWidth,height:()=>.5*window.innerHeight,scrollTrigger:{trigger:s,start:"top top",end:()=>window.innerHeight/2,scrub:!0,pin:!1,anticipatePin:1},ease:"none",transformOrigin:"bottom center"}));const a=document.querySelectorAll(".directions__item-image");a.length&&a.forEach((e=>{gsap.fromTo(e,{maxWidth:"50%"},{maxWidth:"100%",ease:"none",scrollTrigger:{trigger:e,start:"top 40%",end:"top 20%",scrub:!0}})})),window.addEventListener("load",(()=>{const e=document.querySelector(".project__image"),t=document.querySelector(".project__body");e&&t&&(gsap.to(e,{height:.45*window.innerHeight,duration:.6,ease:"power2.out",onComplete:()=>{gsap.to(e,{height:270,duration:1,delay:.1,ease:"power2.out",onComplete:()=>{gsap.to(t,{opacity:1,visibility:"visible",duration:.4,ease:"power2.out"})}})}}),gsap.set(t,{opacity:0,visibility:"hidden"}))}))}))})();